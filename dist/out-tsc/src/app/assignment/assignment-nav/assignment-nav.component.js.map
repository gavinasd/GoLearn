{"version":3,"file":"assignment-nav.component.js","sourceRoot":"","sources":["../../../../app/assignment/assignment-nav/assignment-nav.component.ts"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,EAAC,SAAS,EAAE,KAAK,EAAS,MAAM,eAAe,CAAC;AACvD,OAAO,EAAC,MAAM,EAAC,MAAM,iBAAiB,CAAC;AACvC,OAAO,EAAC,WAAW,EAAC,MAAM,6BAA6B,CAAC;AACxD,OAAO,EAAC,YAAY,EAAC,MAAM,8BAA8B,CAAC;AAC1D,OAAO,EAAC,iBAAiB,EAAC,MAAM,mCAAmC,CAAC;AAOpE,IAAa,sBAAsB;IAK/B,gCAAoB,MAAa,EAAU,WAAuB,EAC9C,iBAAmC,EAAU,YAAyB;QADtE,WAAM,GAAN,MAAM,CAAO;QAAU,gBAAW,GAAX,WAAW,CAAY;QAC9C,sBAAiB,GAAjB,iBAAiB,CAAkB;QAAU,iBAAY,GAAZ,YAAY,CAAa;IAAI,CAAC;IAE/F,yCAAQ,GAAR;QAAA,iBAOC;QANG,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,CAAC,CAAA,iBAAiB;QACxE,EAAE,CAAA,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC,CAAC,CAAC;YACpB,IAAI,CAAC,iBAAiB,CAAC,oBAAoB,EAAE,CAAC,SAAS,CAAC,UAAC,cAAc;gBACnE,KAAI,CAAC,cAAc,GAAG,cAAc,CAAC;YACzC,CAAC,CAAC,CAAC;QACP,CAAC;IACL,CAAC;IAED,8CAAa,GAAb,UAAc,IAAQ;QAAtB,iBAYC;QAXG,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC7B,IAAI,CAAC,iBAAiB,CAAC,oBAAoB,CAAC,IAAI,CAAC,OAAO,EAAC,IAAI,CAAC,UAAU,CAAC;aACpE,SAAS,CACN,UAAC,IAAI;YACH,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,KAAK,EAAE,CAAC;YAC9C,KAAI,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACtC,CAAC,EAAC,UAAC,GAAG;YACJ,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,KAAK,EAAE,CAAC;YAC9C,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC/B,CAAC,CACJ,CAAA;IACT,CAAC;IAED,4CAAW,GAAX,UAAY,IAAQ;QAChB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACjC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,eAAe,EAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;IAChE,CAAC;IAED,uCAAM,GAAN;QACI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;QAC1B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;IAC9C,CAAC;IAEL,6BAAC;AAAD,CAAC,AAzCD,IAyCC;AAxCY;IAAR,KAAK,EAAE;;uDAAgB;AADf,sBAAsB;IALlC,SAAS,CAAC;QACP,QAAQ,EAAE,oBAAoB;QAC9B,WAAW,EAAE,iCAAiC;QAC9C,SAAS,EAAE,CAAC,gCAAgC,CAAC;KAChD,CAAC;qCAM6B,MAAM,EAAsB,WAAW;QAC5B,iBAAiB,EAAuB,YAAY;GANjF,sBAAsB,CAyClC;SAzCY,sBAAsB","sourcesContent":["import {Component, Input, OnInit} from '@angular/core';\nimport {Router} from \"@angular/router\";\nimport {HttpService} from \"../../services/http.service\";\nimport {ToastService} from \"../../services/toast.service\";\nimport {AssignmentService} from \"../../services/assignment.service\";\n\n@Component({\n    selector: 'app-assignment-nav',\n    templateUrl: './assignment-nav.component.html',\n    styleUrls: ['./assignment-nav.component.css']\n})\nexport class AssignmentNavComponent implements OnInit {\n    @Input() classId:string;\n    assignmentList:any[];\n    private userType:number;\n\n    constructor(private router:Router, private httpService:HttpService,\n                private assignmentService:AssignmentService, private toastService:ToastService) { }\n\n    ngOnInit() {\n        this.userType = Number(this.httpService.getUserType());//把string转成number\n        if(this.userType == 1) {\n            this.assignmentService.getAllAssignmentList().subscribe((assignmentList) => {\n                this.assignmentList = assignmentList;\n            });\n        }\n    }\n\n    addAssignment(form:any){\n        console.log(form.assignment);\n        this.assignmentService.addAssignmentToClass(this.classId,form.assignment)\n            .subscribe(\n                (json)=>{\n                  document.getElementById('closeModal').click();\n                  this.toastService.success(\"成功添加作业\");\n                },(err)=>{\n                  document.getElementById('closeModal').click();\n                  this.toastService.error(err);\n                }\n            )\n    }\n\n    searchClass(form:any){\n        console.log(form.classForSearch);\n        this.router.navigate(['/class/search',form.classForSearch]);\n    }\n\n    logout(){\n        this.httpService.logout();\n        this.router.navigate(['/login_register']);\n    }\n\n}\n"]}